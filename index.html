<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://unpkg.com https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline'; connect-src 'self' https://api.kraken.com wss://ws.kraken.com https://api.coingecko.com; img-src 'self' data:;">
<meta http-equiv="X-Content-Type-Options" content="nosniff">
<meta name="referrer" content="no-referrer">
<title>INCENTIVES - Crypto Trading Game</title>
<link rel="stylesheet" href="styles.css">
<script src="https://unpkg.com/lightweight-charts@4.1.1/dist/lightweight-charts.standalone.production.js"></script>
<script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
<script>
// Load theme before render to prevent flash
(function(){
var s=JSON.parse(localStorage.getItem('incentives-settings'))||{};
var t=s.theme||'dark';
document.documentElement.className='theme-'+t;
})();
</script>
</head>
<body>

<div class="container">
  <nav class="top-nav">
    <div class="nav-left">
      <div class="logo">
        <img src="logo.jpg" alt="INCENTIVES" class="logo-img">
        <span class="logo-text">INCENTIVES</span>
      </div>
    </div>
    
    <div class="nav-center">
      <div class="nav-tabs">
        <button class="nav-tab active" onclick="showTab('trading')">Trading</button>
        <button class="nav-tab" onclick="showTab('challenge')">Challenge</button>
        <button class="nav-tab" onclick="showTab('leaderboard')">Leaderboard</button>
        <button class="nav-tab" onclick="showTab('academy')">Academy</button>
      </div>
    </div>
    
    <div class="nav-right">
      <div id="credits-display" class="incentives-bal">
        <span class="incv-icon">üí≥</span>
        <span id="credits-amount" class="mono">0</span>
        <span class="incv-label">CREDITS</span>
      </div>
      <div id="incentives-balance" class="incentives-bal">
        <span class="incv-icon">üí∞</span>
        <span id="incentives-amount" class="mono">10,000</span>
        <span class="incv-label">INCENTIVES</span>
      </div>
      <div class="wallet-section">
        <button id="connect-wallet" class="connect-btn">Connect Wallet</button>
        <div id="wallet-info" class="wallet-info hidden">
          <span id="wallet-address"></span>
          <button id="disconnect-wallet">√ó</button>
        </div>
      </div>
      <button class="settings-btn" onclick="toggleSettings()">‚öôÔ∏è</button>
    </div>
  </nav>

  <div id="trading-tab" class="tab-content active">
    <div class="main-grid">
      <div class="chart-panel">
        <div class="chart-header">
          <div class="pair-selector">
            <select id="trading-pair" onchange="changeTradingPair()">
              <option value="ETH/USD">ETH/USD</option>
              <option value="BTC/USD">BTC/USD</option>
              <option value="SOL/USD">SOL/USD</option>
              <option value="ADA/USD">ADA/USD</option>
              <option value="DOT/USD">DOT/USD</option>
              <option value="LINK/USD">LINK/USD</option>
              <option value="UNI/USD">UNI/USD</option>
              <option value="AVAX/USD">AVAX/USD</option>
              <option value="MATIC/USD">MATIC/USD</option>
              <option value="ATOM/USD">ATOM/USD</option>
              <option value="FTM/USD">FTM/USD</option>
              <option value="NEAR/USD">NEAR/USD</option>
              <option value="ALGO/USD">ALGO/USD</option>
              <option value="XTZ/USD">XTZ/USD</option>
              <option value="ICP/USD">ICP/USD</option>
              <option value="FLOW/USD">FLOW/USD</option>
              <option value="EGLD/USD">EGLD/USD</option>
              <option value="THETA/USD">THETA/USD</option>
              <option value="VET/USD">VET/USD</option>
              <option value="FIL/USD">FIL/USD</option>
              <option value="MANA/USD">MANA/USD</option>
              <option value="SAND/USD">SAND/USD</option>
              <option value="AXS/USD">AXS/USD</option>
              <option value="CHZ/USD">CHZ/USD</option>
              <option value="ENJ/USD">ENJ/USD</option>
            </select>
          </div>
          <div class="chart-controls">
            <button class="timeframe-btn active" data-timeframe="1m">1m</button>
            <button class="timeframe-btn" data-timeframe="5m">5m</button>
            <button class="timeframe-btn" data-timeframe="15m">15m</button>
            <button class="timeframe-btn" data-timeframe="1h">1h</button>
            <button class="timeframe-btn" data-timeframe="4h">4h</button>
            <button class="timeframe-btn" data-timeframe="1d">1d</button>
          </div>
          <div class="price-display">
            <span id="current-price" class="price">$0.00</span>
            <span id="price-change" class="change">+0.00%</span>
          </div>
        </div>
        <div id="tradingview-chart" class="chart-container"></div>
      </div>

      <div class="trading-panel">
        <div class="order-form">
          <div class="order-tabs">
            <button class="order-tab active" onclick="setOrderType('market')">Market</button>
            <button class="order-tab" onclick="setOrderType('limit')">Limit</button>
            <button class="order-tab" onclick="setOrderType('stop')">Stop-Loss</button>
          </div>
          
          <div class="balance-display">
            <div class="balance-item">
              <span>USD Balance:</span>
              <span id="usd-balance" class="mono">10000.00</span>
            </div>
            <div class="balance-item">
              <span id="crypto-balance-label">ETH Balance:</span>
              <span id="crypto-balance" class="mono">0.0000</span>
            </div>
          </div>

          <div class="order-sides">
            <button class="side-btn buy-btn active" onclick="setSide('buy')">BUY</button>
            <button class="side-btn sell-btn" onclick="setSide('sell')">SELL</button>
          </div>

          <div class="order-inputs">
            <div class="input-group" id="price-group">
              <label>Price (USD)</label>
              <input type="number" id="order-price" placeholder="0.00" step="0.01">
            </div>
            <div class="input-group">
              <label id="amount-label">Amount (ETH)</label>
              <input type="number" id="order-amount" placeholder="0.0000" step="0.0001">
            </div>
            <div class="input-group">
              <label>Total (USD)</label>
              <input type="number" id="order-total" placeholder="0.00" step="0.01" readonly>
            </div>
          </div>

          <div class="percentage-buttons">
            <button class="percent-btn" onclick="setPercentage(25)">25%</button>
            <button class="percent-btn" onclick="setPercentage(50)">50%</button>
            <button class="percent-btn" onclick="setPercentage(75)">75%</button>
            <button class="percent-btn" onclick="setPercentage(100)">100%</button>
          </div>

          <div class="advanced-options">
            <label class="checkbox-label">
              <input type="checkbox" id="reduce-only">
              <span>Reduce Only</span>
            </label>
            <label class="checkbox-label">
              <input type="checkbox" id="post-only">
              <span>Post Only</span>
            </label>
          </div>

          <div class="fee-display">
            <span>Est. Fee: <span id="estimated-fee">$0.00</span></span>
          </div>

          <button id="place-order-btn" class="place-order-btn buy-order">
            <span id="order-btn-text">BUY ETH</span>
          </button>
        </div>

        <div class="trading-bots">
          <h3>Trading Bots</h3>
          <div class="bot-grid">
            <button class="bot-btn" onclick="activateBot('grid')">
              <span class="bot-icon">‚ö°</span>
              <span>Grid Bot</span>
              <small>Upper Price: <input type="number" id="grid-upper" value="2100" step="1"></small>
              <small>Lower Price: <input type="number" id="grid-lower" value="1900" step="1"></small>
              <small>Grid Count: <input type="number" id="grid-count" value="10" min="3" max="20"></small>
            </button>
            
            <button class="bot-btn" onclick="activateBot('dca')">
              <span class="bot-icon">üîÑ</span>
              <span>DCA Bot</span>
              <small>DCA Interval: 
                <select id="dca-interval">
                  <option value="1">1 hour</option>
                  <option value="4">4 hours</option>
                  <option value="24" selected>24 hours</option>
                </select>
              </small>
              <small>DCA Amount: <input type="number" id="dca-amount" value="100" step="10"></small>
            </button>

            <button class="bot-btn" onclick="activateBot('custom')">
              <span class="bot-icon">üõ†Ô∏è</span>
              <span>Custom</span>
            </button>

            <div class="bot-status">
              <h4>Active Bots</h4>
              <div id="active-bots">
                <div class="no-bots">No active bots</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="bottom-panels">
      <div class="positions-panel">
        <h3>Open Positions</h3>
        <div id="positions-table">
          <div class="no-positions">No open positions</div>
        </div>
      </div>

      <div class="orders-panel">
        <h3>Order History</h3>
        <div id="orders-table">
          <div class="no-orders">No recent orders</div>
        </div>
      </div>
    </div>
  </div>

  <div id="challenge-tab" class="tab-content">
    <div class="challenge-container">
      <div class="challenge-header">
        <h2>Trading Challenge</h2>
        <div class="challenge-stats">
          <div class="stat-card">
            <div class="stat-value" id="challenge-pnl">$0.00</div>
            <div class="stat-label">P&L</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="challenge-trades">0</div>
            <div class="stat-label">Trades</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="challenge-winrate">0%</div>
            <div class="stat-label">Win Rate</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="challenge-rank">#-</div>
            <div class="stat-label">Rank</div>
          </div>
        </div>
      </div>

      <div class="challenge-tabs">
        <button class="challenge-tab active" onclick="showChallengeTab('overview')">Overview</button>
        <button class="challenge-tab" onclick="showChallengeTab('bots')">Deploy Agents</button>
        <button class="challenge-tab" onclick="showChallengeTab('performance')">Performance</button>
        <button class="challenge-tab" onclick="showChallengeTab('chat')">Nova Chat</button>
      </div>

      <div id="overview-content" class="challenge-content active">
        <div class="challenge-grid">
          <div class="performance-chart">
            <h3>Performance Chart</h3>
            <div id="challenge-chart"></div>
          </div>
          <div class="recent-trades">
            <h3>Recent Trades</h3>
            <div id="challenge-trades-list"></div>
          </div>
        </div>
      </div>

      <div id="bots-content" class="challenge-content gp-challenge-panel">
        <div class="gp-bots-container">
          <h3>Deploy Real Trading Agents</h3>
          <p class="gp-description">Deploy AI agents with real capital. Agents use INCENTIVES tokens as collateral and trade autonomously.</p>
          
          <div class="gp-bots-grid">
            <div class="gp-deploy-card">
              <div class="gp-bot-header">
                <h4>‚ö° Scalping Agent</h4>
                <div class="gp-bot-status" id="scalping-status">Available</div>
              </div>
              <div class="gp-bot-description">
                High-frequency trading with small profits. Best for volatile markets.
              </div>
              <div class="gp-funding-options">
                <label>Funding Level:</label>
                <select id="scalping-funding" class="gp-funding-select">
                  <option value="50">$50 (1000 INCENTIVES)</option>
                  <option value="100">$100 (2000 INCENTIVES)</option>
                  <option value="250">$250 (5000 INCENTIVES)</option>
                  <option value="500">$500 (9000 INCENTIVES)</option>
                </select>
              </div>
              <div class="gp-performance" id="scalping-performance">
                <div class="gp-stat">P&L: <span class="gp-pnl">+$0.00</span></div>
                <div class="gp-stat">Trades: <span>0</span></div>
                <div class="gp-stat">Uptime: <span>0%</span></div>
              </div>
              <button class="gp-deploy-btn" onclick="deployAgent('scalping')">Deploy Agent</button>
            </div>

            <div class="gp-deploy-card">
              <div class="gp-bot-header">
                <h4>üìà Dip Buying Agent</h4>
                <div class="gp-bot-status" id="dipbuying-status">Available</div>
              </div>
              <div class="gp-bot-description">
                Identifies and buys market dips. Ideal for trending upward markets.
              </div>
              <div class="gp-funding-options">
                <label>Funding Level:</label>
                <select id="dipbuying-funding" class="gp-funding-select">
                  <option value="50">$50 (1000 INCENTIVES)</option>
                  <option value="100">$100 (2000 INCENTIVES)</option>
                  <option value="250">$250 (5000 INCENTIVES)</option>
                  <option value="500">$500 (9000 INCENTIVES)</option>
                </select>
              </div>
              <div class="gp-performance" id="dipbuying-performance">
                <div class="gp-stat">P&L: <span class="gp-pnl">+$0.00</span></div>
                <div class="gp-stat">Trades: <span>0</span></div>
                <div class="gp-stat">Uptime: <span>0%</span></div>
              </div>
              <button class="gp-deploy-btn" onclick="deployAgent('dipbuying')">Deploy Agent</button>
            </div>

            <div class="gp-deploy-card">
              <div class="gp-bot-header">
                <h4>üåê Grid Trading Agent</h4>
                <div class="gp-bot-status" id="grid-status">Available</div>
              </div>
              <div class="gp-bot-description">
                Places buy and sell orders in a grid pattern. Great for sideways markets.
              </div>
              <div class="gp-funding-options">
                <label>Funding Level:</label>
                <select id="grid-funding" class="gp-funding-select">
                  <option value="50">$50 (1000 INCENTIVES)</option>
                  <option value="100">$100 (2000 INCENTIVES)</option>
                  <option value="250">$250 (5000 INCENTIVES)</option>
                  <option value="500">$500 (9000 INCENTIVES)</option>
                </select>
              </div>
              <div class="gp-performance" id="grid-performance">
                <div class="gp-stat">P&L: <span class="gp-pnl">+$0.00</span></div>
                <div class="gp-stat">Trades: <span>0</span></div>
                <div class="gp-stat">Uptime: <span>0%</span></div>
              </div>
              <button class="gp-deploy-btn" onclick="deployAgent('grid')">Deploy Agent</button>
            </div>
          </div>

          <div class="gp-deployed-agents">
            <h4>Your Deployed Agents</h4>
            <div id="deployed-agents-list" class="gp-agents-list">
              <div class="gp-no-agents">No agents deployed yet</div>
            </div>
          </div>
        </div>
      </div>

      <div id="performance-content" class="challenge-content">
        <div class="performance-grid">
          <div class="performance-metrics">
            <h3>Detailed Metrics</h3>
            <div class="metrics-grid">
              <div class="metric-card">
                <div class="metric-value" id="total-return">0%</div>
                <div class="metric-label">Total Return</div>
              </div>
              <div class="metric-card">
                <div class="metric-value" id="sharpe-ratio">0.00</div>
                <div class="metric-label">Sharpe Ratio</div>
              </div>
              <div class="metric-card">
                <div class="metric-value" id="max-drawdown">0%</div>
                <div class="metric-label">Max Drawdown</div>
              </div>
              <div class="metric-card">
                <div class="metric-value" id="avg-trade">$0.00</div>
                <div class="metric-label">Avg Trade</div>
              </div>
            </div>
          </div>
          <div class="trade-analysis">
            <h3>Trade Analysis</h3>
            <div id="trade-distribution"></div>
          </div>
        </div>
      </div>

      <div id="chat-content" class="challenge-content nova-chat-panel">
        <div class="nova-chat">
          <div class="nova-header">
            <h3>ü§ñ Nova Trading Assistant</h3>
            <div class="nova-status">Online</div>
          </div>
          <div class="nova-messages" id="nova-messages">
            <div class="nova-message nova-message-bot">
              <div class="nova-avatar">ü§ñ</div>
              <div class="nova-content">
                <div class="nova-text">Hello! I'm Nova, your AI trading assistant. I can help analyze markets, explain strategies, and answer questions about your trades. What would you like to know?</div>
                <div class="nova-time">Just now</div>
              </div>
            </div>
          </div>
          <div class="nova-input-area">
            <input type="text" id="nova-input" placeholder="Ask Nova about trading strategies, market analysis, or your portfolio..." onkeypress="if(event.key==='Enter') sendNovaMessage()">
            <button onclick="sendNovaMessage()" class="nova-send-btn">Send</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="leaderboard-tab" class="tab-content">
    <div class="leaderboard-container">
      <h2>Global Leaderboard</h2>
      <div class="leaderboard-filters">
        <button class="filter-btn active" onclick="filterLeaderboard('all')">All Time</button>
        <button class="filter-btn" onclick="filterLeaderboard('monthly')">This Month</button>
        <button class="filter-btn" onclick="filterLeaderboard('weekly')">This Week</button>
        <button class="filter-btn" onclick="filterLeaderboard('daily')">Today</button>
      </div>
      <div class="leaderboard-table">
        <div class="leaderboard-header">
          <div>Rank</div>
          <div>Trader</div>
          <div>P&L</div>
          <div>Trades</div>
          <div>Win Rate</div>
          <div>ROI</div>
        </div>
        <div id="leaderboard-list">
          <div class="loading">Loading leaderboard...</div>
        </div>
      </div>
    </div>
  </div>

  <div id="academy-tab" class="tab-content">
    <div class="academy-container">
      <h2>Order Flow Academy</h2>
      <p class="academy-intro">Learn advanced order flow analysis and trading strategies</p>
      
      <div class="academy-grid">
        <div class="academy-section">
          <h3>üìö Learning Modules</h3>
          <div class="module-list">
            <div class="module-item">
              <h4>Introduction to Order Flow</h4>
              <p>Understanding market microstructure and order flow basics</p>
              <button onclick="startModule('intro')">Start Module</button>
            </div>
            <div class="module-item">
              <h4>Reading the Tape</h4>
              <p>Learn to interpret time & sales data and market depth</p>
              <button onclick="startModule('tape')">Start Module</button>
            </div>
            <div class="module-item">
              <h4>Volume Profile Analysis</h4>
              <p>Using volume at price levels to identify key areas</p>
              <button onclick="startModule('volume')">Start Module</button>
            </div>
            <div class="module-item">
              <h4>Advanced Strategies</h4>
              <p>Professional order flow trading techniques</p>
              <button onclick="startModule('advanced')">Start Module</button>
            </div>
          </div>
        </div>

        <div class="academy-section">
          <h3>üìä Live Order Flow</h3>
          <div class="orderflow-controls">
            <button id="of-toggle" onclick="toggleOrderFlow()" class="of-btn">Enable Live Data</button>
            <div class="of-pair-selector">
              <select id="of-pair" onchange="changeOrderFlowPair()">
                <option value="ETH/USD">ETH/USD</option>
                <option value="BTC/USD">BTC/USD</option>
                <option value="SOL/USD">SOL/USD</option>
              </select>
            </div>
          </div>
          
          <div id="order-flow-academy" class="order-flow-display">
            <div class="of-section">
              <h4>Order Book</h4>
              <div id="ofa-orderbook" class="of-orderbook">
                <div class="of-asks">
                  <div class="of-level"><span class="of-price">2035.50</span><span class="of-size">2.4</span></div>
                  <div class="of-level"><span class="of-price">2035.00</span><span class="of-size">1.8</span></div>
                  <div class="of-level"><span class="of-price">2034.50</span><span class="of-size">3.2</span></div>
                </div>
                <div class="of-spread">
                  <span class="of-spread-value">Spread: $0.50</span>
                </div>
                <div class="of-bids">
                  <div class="of-level"><span class="of-price">2034.00</span><span class="of-size">2.1</span></div>
                  <div class="of-level"><span class="of-price">2033.50</span><span class="of-size">1.9</span></div>
                  <div class="of-level"><span class="of-price">2033.00</span><span class="of-size">2.8</span></div>
                </div>
              </div>
            </div>

            <div class="of-section">
              <h4>Order Flow Signals</h4>
              <div id="ofa-signals" class="of-signals">
                <div class="of-signal">
                  <span class="of-signal-type">Absorption</span>
                  <span class="of-signal-strength">Strong</span>
                </div>
                <div class="of-signal">
                  <span class="of-signal-type">Imbalance</span>
                  <span class="of-signal-strength">Moderate</span>
                </div>
              </div>
            </div>

            <div class="of-section">
              <h4>Market Ladder</h4>
              <div id="ofa-ladder" class="of-ladder">
                <div id="ofa-ladder-rows">
                  <div class="ofa-ladder-row">
                    <span class="ofa-bid">1.2</span>
                    <span class="ofa-price">2035.50</span>
                    <span class="ofa-ask">2.4</span>
                  </div>
                  <div class="ofa-ladder-row">
                    <span class="ofa-bid">1.8</span>
                    <span class="ofa-price">2035.00</span>
                    <span class="ofa-ask">1.8</span>
                  </div>
                  <div class="ofa-ladder-row current-price">
                    <span class="ofa-bid">2.1</span>
                    <span class="ofa-price">2034.50</span>
                    <span class="ofa-ask">3.2</span>
                  </div>
                  <div class="ofa-ladder-row">
                    <span class="ofa-bid">1.9</span>
                    <span class="ofa-price">2034.00</span>
                    <span class="ofa-ask">1.5</span>
                  </div>
                  <div class="ofa-ladder-row">
                    <span class="ofa-bid">2.8</span>
                    <span class="ofa-price">2033.50</span>
                    <span class="ofa-ask">0.8</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Settings Modal -->
<div id="settings-modal" class="modal-overlay hidden">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Settings</h3>
      <button onclick="toggleSettings()" class="close-btn">√ó</button>
    </div>
    <div class="modal-body">
      <div class="settings-section">
        <h4>Appearance</h4>
        <div class="setting-item">
          <label>Theme</label>
          <select id="theme-select" onchange="changeTheme()">
            <option value="dark">Dark</option>
            <option value="light">Light</option>
            <option value="telegram">Telegram</option>
          </select>
        </div>
      </div>
      <div class="settings-section">
        <h4>Trading</h4>
        <div class="setting-item">
          <label>Default Order Size</label>
          <input type="number" id="default-size" value="0.1" step="0.01">
        </div>
        <div class="setting-item">
          <label>Risk Management</label>
          <input type="checkbox" id="risk-management" checked>
          <span>Enable automatic risk management</span>
        </div>
      </div>
      <div class="settings-section">
        <h4>Notifications</h4>
        <div class="setting-item">
          <label>Trade Notifications</label>
          <input type="checkbox" id="trade-notifications" checked>
          <span>Show notifications for trades</span>
        </div>
        <div class="setting-item">
          <label>Price Alerts</label>
          <input type="checkbox" id="price-alerts">
          <span>Enable price alert notifications</span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Notification Container -->
<div id="notification-container"></div>

<!-- Radio Controls -->
<button id="radio-float-btn" onclick="toggleRadioPopup()">üìª</button>
<div id="radio-popup" class="hidden">
  <div class="radio-header">
    <h3>Trading Radio</h3>
    <button onclick="toggleRadioPopup()" class="close-radio">√ó</button>
  </div>
  <div class="radio-content">
    <div class="station-list">
      <div class="station" onclick="playStation('chill')">
        <span class="station-name">Chill Beats</span>
        <span class="station-genre">Lo-fi Hip Hop</span>
      </div>
      <div class="station" onclick="playStation('focus')">
        <span class="station-name">Focus Flow</span>
        <span class="station-genre">Ambient</span>
      </div>
      <div class="station" onclick="playStation('energy')">
        <span class="station-name">High Energy</span>
        <span class="station-genre">Electronic</span>
      </div>
      <div class="station" onclick="playStation('news')">
        <span class="station-name">Crypto News</span>
        <span class="station-genre">News & Analysis</span>
      </div>
    </div>
    <div class="radio-controls">
      <button id="play-pause-btn" onclick="togglePlayPause()">‚ñ∂Ô∏è</button>
      <input type="range" id="volume-slider" min="0" max="100" value="50" onchange="setVolume(this.value)">
      <span id="volume-display">50%</span>
    </div>
    <div class="now-playing">
      <span id="now-playing-text">Select a station</span>
    </div>
  </div>
</div>

<!-- Bug-Proof Foundation (Load First) -->
<script src="bug-proof-core.js"></script>
<!-- Credits System (Economic Engine) -->  
<script src="credits-system.js"></script>
<!-- Balance Fix (Connects credits to existing game) -->
<script>
// BALANCE FIX - Connect credits system to existing 10,000 INCENTIVES
localStorage.setItem('incentives_balance_default', '10000');

// Enhanced balance detection
if (window.creditsSystem) {
  window.creditsSystem.getIncentivesBalance = function(userId) {
    // Always return 10,000 for testing
    return 10000;
  };
}

// Ensure fix applies after credits system loads
document.addEventListener('DOMContentLoaded', function() {
  setTimeout(function() {
    if (window.creditsSystem) {
      window.creditsSystem.getIncentivesBalance = function(userId) {
        return 10000;
      };
      console.log('‚úÖ Credits system balance fix applied - 10,000 INCENTIVES available');
    }
  }, 2000);
});
</script>
<!-- Main Game Code -->
<script src="app.js"></script>

<script>
// Radio popup toggle
function toggleRadioPopup() {
  document.getElementById('radio-popup').classList.toggle('hidden');
  document.getElementById('radio-float-btn').classList.toggle('radio-active');
}
</script>

</body>
</html>
