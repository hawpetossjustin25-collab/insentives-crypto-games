/* === RESET & BASE === */
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0b0e11;--bg2:#141821;--bg3:#1a1f2e;--border:#222840;
  --text:#e0e0e0;--muted:#6b7280;--green:#00c853;--red:#ff1744;
  --accent:#5b6eea;--font:'Segoe UI',system-ui,sans-serif;--mono:'SF Mono','Fira Code','Consolas',monospace;
  --font-size:13px;
}

/* === THEMES === */
body.theme-dark{
  --bg:#0b0e11;--bg2:#141821;--bg3:#1a1f2e;--border:#222840;
  --text:#e0e0e0;--muted:#6b7280;--green:#00c853;--red:#ff1744;--accent:#5b6eea;
}
body.theme-light{
  --bg:#f5f5f5;--bg2:#ffffff;--bg3:#e8edf2;--border:#d0d5dd;
  --text:#1a1a2e;--muted:#6b7280;--green:#00a844;--red:#e63946;--accent:#5b6eea;
}
body.theme-telegram{
  --bg:#0a1628;--bg2:rgba(42,171,238,0.08);--bg3:rgba(42,171,238,0.12);
  --border:rgba(42,171,238,0.2);--text:#e8f4fd;--muted:rgba(42,171,238,0.6);
  --green:#2AABEE;--red:#e63946;--accent:#2AABEE;
}

/* Telegram frosted glass effects */
body.theme-telegram #top-bar,
body.theme-telegram #right-panel,
body.theme-telegram #bottom-section,
body.theme-telegram #settings-panel,
body.theme-telegram .challenge-modal,
body.theme-telegram .match-end-modal,
body.theme-telegram #achievements-panel,
body.theme-telegram #shop-panel,
body.theme-telegram #txn-panel,
body.theme-telegram .help-modal{
  backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);
  box-shadow:0 0 20px rgba(42,171,238,0.1);
}
body.theme-telegram .panel,
body.theme-telegram .ach-card,
body.theme-telegram .shop-item,
body.theme-telegram .bot-entry,
body.theme-telegram .gp-trade-item{
  backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);
}
body.theme-telegram input[type="number"],
body.theme-telegram input[type="text"],
body.theme-telegram select{
  background:rgba(42,171,238,0.1);
}
body.theme-telegram .side-btn,
body.theme-telegram .pct-btn,
body.theme-telegram .ot-btn,
body.theme-telegram .bot-tab,
body.theme-telegram .cm-dur,
body.theme-telegram .cm-diff,
body.theme-telegram .txn-filter,
body.theme-telegram .quick-reply-btn{
  background:rgba(42,171,238,0.2);
}
body.theme-telegram .side-btn:hover,
body.theme-telegram .pct-btn:hover,
body.theme-telegram .ot-btn:hover,
body.theme-telegram .bot-tab:hover,
body.theme-telegram .cm-dur:hover,
body.theme-telegram .cm-diff:hover,
body.theme-telegram .txn-filter:hover,
body.theme-telegram .quick-reply-btn:hover{
  background:rgba(42,171,238,0.35);
}
body.theme-telegram .side-btn.active-buy{background:#2AABEE}
body.theme-telegram .side-btn.active-sell{background:#e63946}
body.theme-telegram .buy-color{background:#2AABEE}
body.theme-telegram .sell-color{background:#e63946}
body.theme-telegram ::-webkit-scrollbar-thumb{background:rgba(42,171,238,0.4);border-radius:3px}
body.theme-telegram ::-webkit-scrollbar-track{background:rgba(42,171,238,0.05)}

/* Smooth theme transitions */
body,#top-bar,#right-panel,#bottom-section,#chart-container,#timeframe-bar,
.panel,.side-btn,.ot-btn,.pct-btn,.bot-tab,.h-tab,#ai-mentor,
input[type="number"],input[type="text"],select,
#settings-panel,.challenge-modal,.match-end-modal{
  transition:background-color .3s,color .3s,border-color .3s,box-shadow .3s;
}

/* Theme switcher button */
#theme-cycle-btn{
  background:none;border:1px solid var(--border);color:var(--text);
  width:36px;height:36px;border-radius:8px;cursor:pointer;font-size:16px;
  display:flex;align-items:center;justify-content:center;transition:all .2s;
}
#theme-cycle-btn:hover{background:var(--bg3);border-color:var(--accent);transform:scale(1.1)}

/* Keep old midnight class as alias for backward compat */
body.theme-midnight{
  --bg:#0a1628;--bg2:#0f1d32;--bg3:#162540;--border:#1e3a5f;
  --text:#c8d6e5;--muted:#5f7a9b;--accent:#4a7fff;
}

/* === FONT SIZES === */
body.fs-small{--font-size:11px}
body.fs-medium{--font-size:13px}
body.fs-large{--font-size:15px}

html,body{height:100%;background:var(--bg);color:var(--text);font-family:var(--font);font-size:var(--font-size);overflow:hidden;transition:background .3s,color .3s}
.mono{font-family:var(--mono)}
.muted{color:var(--muted);text-align:center;padding:20px;font-size:12px}
.hidden{display:none!important}
input,select,button{font-family:inherit;font-size:inherit;outline:none}
input[type="number"],input[type="text"],select{
  background:var(--bg);border:1px solid var(--border);color:var(--text);
  border-radius:4px;padding:6px 8px;width:100%;transition:border-color .2s
}
input[type="number"]:focus,input[type="text"]:focus{border-color:var(--accent)}
label{color:var(--muted);font-size:11px;margin-bottom:2px;display:block}

/* === TOP BAR === */
#top-bar{
  display:flex;align-items:center;justify-content:space-between;
  background:var(--bg2);border-bottom:1px solid var(--border);
  padding:0 16px;height:48px;gap:12px;transition:background .3s
}
.top-left{display:flex;align-items:center;gap:16px}
.logo{font-size:18px;font-weight:700;letter-spacing:2px;color:#fff;display:flex;align-items:center;gap:8px}
body.theme-light .logo{color:#1a1a2e}
body.theme-telegram .logo{color:#e8f4fd}
.logo-img{height:32px;border-radius:4px;opacity:0.9}
#market-selector{background:var(--bg3);border:1px solid var(--border);color:var(--text);padding:4px 8px;border-radius:4px;cursor:pointer;font-size:13px}
#market-selector option{padding:4px 8px}
.top-center{flex-shrink:0}
#challenge-btn{
  background:linear-gradient(135deg,#5b6eea,#8b5cf6);color:#fff;border:none;
  padding:8px 20px;border-radius:20px;font-weight:700;cursor:pointer;
  animation:pulse 2s infinite;font-size:13px;letter-spacing:0.5px
}
@keyframes pulse{0%,100%{box-shadow:0 0 8px rgba(91,110,234,.4)}50%{box-shadow:0 0 20px rgba(91,110,234,.8)}}
#challenge-btn:hover{transform:scale(1.05)}
.top-right{display:flex;align-items:center;gap:16px}

/* Settings gear button */
#settings-btn{
  background:none;border:1px solid var(--border);color:var(--text);
  width:36px;height:36px;border-radius:8px;cursor:pointer;font-size:18px;
  display:flex;align-items:center;justify-content:center;
  transition:all .2s;
}
#settings-btn:hover{background:var(--bg3);border-color:var(--accent);transform:rotate(30deg)}

.account-stats{display:flex;gap:16px}
.stat{display:flex;flex-direction:column;align-items:flex-end}
.stat .label{font-size:10px;color:var(--muted);text-transform:uppercase}
.stat .mono{font-size:13px;font-weight:600}
.pnl-pos{color:var(--green)}.pnl-neg{color:var(--red)}.pnl-zero{color:var(--muted)}
#market-radio{
  display:flex;align-items:center;gap:6px;background:#0a0f0a;
  padding:6px 12px;border-radius:8px;border:1px solid #1a3a1a;font-size:11px;
  position:relative;min-width:260px;max-width:400px;
  box-shadow:0 0 8px rgba(0,255,0,.05);
}
#market-radio.radio-on{border-color:#00ff41;box-shadow:0 0 12px rgba(0,255,0,.15)}
.radio-antenna{display:none;position:absolute;top:-8px;right:12px;width:2px;height:8px;background:#00ff41;border-radius:1px}
.radio-antenna::after{content:'';position:absolute;top:-3px;left:-2px;width:6px;height:6px;border-radius:50%;background:#00ff41}
#market-radio.radio-on .radio-antenna{display:block;animation:antennaPulse 1.5s infinite}
@keyframes antennaPulse{0%,100%{opacity:1;box-shadow:0 0 4px #00ff41}50%{opacity:.4;box-shadow:none}}
.radio-icon{font-size:16px;flex-shrink:0}
#market-radio.radio-on .radio-icon{animation:radioPulse 1s infinite}
@keyframes radioPulse{0%,100%{transform:scale(1)}50%{transform:scale(1.15)}}
.radio-toggle-btn{
  background:#1a1a1a;border:1px solid #333;color:#ff4444;font-size:9px;font-weight:700;
  padding:2px 6px;border-radius:3px;cursor:pointer;font-family:var(--mono);letter-spacing:1px;
}
#market-radio.radio-on .radio-toggle-btn{color:#00ff41;border-color:#00ff41}
.vol-slider{width:40px;height:3px;cursor:pointer;accent-color:#00ff41}
.sm-btn{background:none;border:none;color:var(--text);cursor:pointer;padding:2px 4px;font-size:13px}
.sm-btn:hover{color:#fff}
.radio-ticker-wrap{
  flex:1;overflow:hidden;min-width:80px;
}
.radio-ticker{
  white-space:nowrap;color:#00ff41;font-family:var(--mono);font-size:10px;
  opacity:.7;
}
#market-radio.radio-on .radio-ticker{animation:tickerScroll 20s linear infinite;opacity:1}
@keyframes tickerScroll{0%{transform:translateX(100%)}100%{transform:translateX(-100%)}}

/* Market hours note */
#market-hours-note{
  font-size:10px;color:#f0a030;background:rgba(240,160,48,.1);
  padding:2px 8px;border-radius:10px;white-space:nowrap;
}

/* Optgroup styling */
#market-selector optgroup{font-weight:700;font-size:12px;color:var(--muted)}
#market-selector option{font-weight:400;padding-left:8px}

/* === SETTINGS PANEL === */
#settings-overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:200;
  display:flex;justify-content:flex-end;
  animation:fadeIn .2s ease;
}
#settings-overlay.hidden{display:none!important}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}

#settings-panel{
  width:380px;max-width:90vw;height:100%;background:var(--bg2);
  border-left:1px solid var(--border);overflow-y:auto;
  animation:slideIn .3s ease;
  display:flex;flex-direction:column;
}
@keyframes slideIn{from{transform:translateX(100%)}to{transform:translateX(0)}}

.settings-header{
  display:flex;justify-content:space-between;align-items:center;
  padding:16px 20px;border-bottom:1px solid var(--border);
  position:sticky;top:0;background:var(--bg2);z-index:1;
}
.settings-header h2{font-size:18px;color:var(--text)}
.settings-close{
  background:none;border:none;color:var(--muted);font-size:22px;
  cursor:pointer;width:32px;height:32px;border-radius:6px;
  display:flex;align-items:center;justify-content:center;
  transition:all .15s;
}
.settings-close:hover{background:var(--bg3);color:var(--text)}

.settings-body{padding:12px 20px 30px;flex:1}

.settings-section{margin-bottom:20px}
.settings-section h3{font-size:13px;color:var(--muted);margin-bottom:10px;text-transform:uppercase;letter-spacing:1px}

.setting-row{
  display:flex;justify-content:space-between;align-items:center;
  padding:10px 0;border-bottom:1px solid var(--border);
}
.setting-row label{color:var(--text);font-size:13px;margin-bottom:0}
.setting-row select{width:auto;min-width:130px}

/* Toggle switch */
.toggle-switch{
  width:44px;height:24px;background:var(--bg3);border:1px solid var(--border);
  border-radius:12px;cursor:pointer;position:relative;transition:all .2s;
  flex-shrink:0;
}
.toggle-switch.active{background:var(--accent);border-color:var(--accent)}
.toggle-knob{
  width:18px;height:18px;background:#fff;border-radius:50%;
  position:absolute;top:2px;left:2px;transition:transform .2s;
  box-shadow:0 1px 3px rgba(0,0,0,.3);
}
.toggle-switch.active .toggle-knob{transform:translateX(20px)}

/* Hotkeys */
.hotkeys-list{display:flex;flex-direction:column;gap:6px}
.hotkey-item{display:flex;align-items:center;gap:10px;font-size:12px;color:var(--text)}
kbd{
  background:var(--bg3);border:1px solid var(--border);color:var(--text);
  padding:2px 8px;border-radius:4px;font-family:var(--mono);font-size:11px;
  min-width:28px;text-align:center;
}

.reset-btn{
  width:100%;padding:10px;background:var(--red);color:#fff;border:none;
  border-radius:6px;cursor:pointer;font-weight:700;font-size:13px;
  transition:filter .15s;
}
.reset-btn:hover{filter:brightness(1.2)}

/* === MAIN LAYOUT === */
#app{display:flex;height:calc(100vh - 48px - 200px);overflow:hidden}
#chart-section{flex:1;display:flex;flex-direction:column;border-right:1px solid var(--border)}
#timeframe-bar{
  display:flex;align-items:center;gap:4px;padding:6px 12px;
  background:var(--bg2);border-bottom:1px solid var(--border);transition:background .3s
}
.tf-btn{
  background:none;border:1px solid transparent;color:var(--muted);
  padding:3px 10px;border-radius:3px;cursor:pointer;font-size:12px;transition:all .15s
}
.tf-btn:hover{color:var(--text)}.tf-btn.active{color:#fff;background:var(--bg3);border-color:var(--border)}
#live-price{margin-left:auto;font-size:16px;font-weight:700;color:#fff}
body.theme-light #live-price{color:#1a1a2e}
#chart-container{flex:1;background:var(--bg);transition:background .3s}

/* === RIGHT PANEL === */
#right-panel{width:300px;overflow-y:auto;background:var(--bg2);display:flex;flex-direction:column;transition:background .3s}
.panel{padding:12px;border-bottom:1px solid var(--border)}
.panel-title{font-weight:700;font-size:13px;margin-bottom:10px;color:#fff}
body.theme-light .panel-title{color:#1a1a2e}
body.theme-light .tf-btn.active,body.theme-light .ot-btn.active,body.theme-light .bot-tab.active,
body.theme-light .cm-dur.active,body.theme-light .cm-diff.active,body.theme-light .txn-filter.active,
body.theme-light .gs-value,body.theme-light .me-val,body.theme-light .faq-list dt,
body.theme-light .help-section h3{color:#1a1a2e}
#side-toggle{display:flex;gap:4px;margin-bottom:8px}
.side-btn{
  flex:1;padding:8px;border:none;border-radius:4px;font-weight:700;
  cursor:pointer;color:#fff;background:var(--bg3);transition:.15s
}
.side-btn.active-buy{background:var(--green)}.side-btn.active-sell{background:var(--red)}
#order-type-bar{display:flex;gap:4px;margin-bottom:10px}
.ot-btn{
  flex:1;padding:5px;border:1px solid var(--border);background:none;
  color:var(--muted);border-radius:3px;cursor:pointer;font-size:11px;transition:all .15s
}
.ot-btn.active{color:#fff;border-color:var(--accent);background:rgba(91,110,234,.15)}
.input-group{margin-bottom:8px}
#pct-buttons{display:flex;gap:4px;margin-bottom:8px}
.pct-btn{
  flex:1;padding:4px;background:var(--bg3);border:1px solid var(--border);
  color:var(--muted);border-radius:3px;cursor:pointer;font-size:11px;transition:all .15s
}
.pct-btn:hover{color:var(--text);border-color:var(--accent)}
.leverage-group{opacity:.5}
.disabled-tag{font-size:9px;background:var(--bg3);padding:1px 4px;border-radius:3px;color:var(--muted)}
#fee-display{color:var(--muted);font-size:11px;margin-bottom:8px}
.primary-btn{
  width:100%;padding:10px;border:none;border-radius:4px;font-weight:700;
  color:#fff;cursor:pointer;font-size:13px;transition:.15s
}
.primary-btn:hover{filter:brightness(1.15)}
.buy-color{background:var(--green)}.sell-color{background:var(--red)}

/* === BOTS === */
#bot-tabs{display:flex;gap:4px;margin-bottom:10px}
.bot-tab{
  flex:1;padding:5px;border:1px solid var(--border);background:none;
  color:var(--muted);border-radius:3px;cursor:pointer;font-size:11px
}
.bot-tab.active{color:#fff;border-color:var(--accent);background:rgba(91,110,234,.15)}
.bot-form .input-group{margin-bottom:6px}
.bot-entry{display:flex;justify-content:space-between;align-items:center;padding:6px;background:var(--bg);border-radius:4px;margin-bottom:4px}
.bot-entry .bot-info{font-size:11px}
.bot-entry .bot-pl{font-family:var(--mono);font-size:11px}
.stop-bot-btn{background:var(--red);color:#fff;border:none;padding:2px 8px;border-radius:3px;cursor:pointer;font-size:10px}

/* === BOTTOM === */
#bottom-section{
  height:200px;display:flex;border-top:1px solid var(--border);background:var(--bg2);transition:background .3s
}
#history-panel{flex:1;display:flex;flex-direction:column;overflow:hidden}
#history-tabs{display:flex;gap:0;border-bottom:1px solid var(--border)}
.h-tab{
  padding:8px 16px;border:none;background:none;color:var(--muted);
  cursor:pointer;font-size:12px;border-bottom:2px solid transparent;transition:all .15s
}
.h-tab.active{color:#fff;border-bottom-color:var(--accent)}
body.theme-light .h-tab.active{color:#1a1a2e}
#history-content{flex:1;overflow-y:auto;padding:4px 12px}
#history-table{width:100%;border-collapse:collapse;font-size:11px}
#history-table th{color:var(--muted);text-align:left;padding:4px 8px;font-weight:500;border-bottom:1px solid var(--border)}
#history-table td{padding:4px 8px}
.cancel-btn{background:var(--red);color:#fff;border:none;padding:1px 8px;border-radius:3px;cursor:pointer;font-size:10px}

/* === AI MENTOR - NOVA === */
#ai-mentor{
  width:340px;display:flex;flex-direction:column;border-left:1px solid var(--border);background:var(--bg3);transition:background .3s
}
#mentor-header{
  display:flex;justify-content:space-between;align-items:center;
  padding:8px 12px;cursor:pointer;border-bottom:1px solid var(--border);font-weight:700;font-size:13px;
  background:linear-gradient(135deg,rgba(91,110,234,.1),rgba(139,92,246,.1));
}
.mentor-header-left{display:flex;align-items:center;gap:6px}
.nova-avatar{font-size:18px;filter:drop-shadow(0 0 4px rgba(91,110,234,.5))}
.nova-name{font-weight:700;font-size:14px;color:var(--accent)}
.nova-status{font-size:10px;color:var(--muted);font-weight:400}
#mentor-body{flex:1;display:flex;flex-direction:column;overflow:hidden}
#mentor-messages{flex:1;overflow-y:auto;padding:8px;scroll-behavior:smooth}
.mentor-msg{padding:8px 12px;border-radius:12px;margin-bottom:6px;font-size:12px;max-width:88%;line-height:1.5;position:relative}
.mentor-msg.bot{background:var(--bg2);color:var(--text);border-bottom-left-radius:4px}
.mentor-msg.user{background:var(--accent);color:#fff;margin-left:auto;border-bottom-right-radius:4px}
.mentor-msg .msg-time{display:block;font-size:9px;color:var(--muted);margin-top:4px;opacity:.7}
.mentor-msg.user .msg-time{color:rgba(255,255,255,.6)}
.mentor-msg .nova-msg-avatar{font-size:12px;margin-right:4px}

/* Typing indicator */
#mentor-typing{display:flex;align-items:center;gap:6px;padding:4px 8px}
#mentor-typing.hidden{display:none!important}
.nova-avatar-sm{font-size:14px}
.typing-indicator{display:flex;gap:3px;padding:6px 10px;background:var(--bg2);border-radius:12px}
.typing-indicator span{width:6px;height:6px;border-radius:50%;background:var(--muted);animation:typingBounce 1.4s infinite}
.typing-indicator span:nth-child(2){animation-delay:.2s}
.typing-indicator span:nth-child(3){animation-delay:.4s}
@keyframes typingBounce{0%,60%,100%{transform:translateY(0);opacity:.4}30%{transform:translateY(-4px);opacity:1}}

/* Quick reply buttons */
#mentor-quick-replies{display:flex;flex-wrap:wrap;gap:4px;padding:4px 8px;border-top:1px solid var(--border)}
.quick-reply-btn{
  padding:4px 10px;border:1px solid var(--border);background:var(--bg2);
  color:var(--text);border-radius:14px;cursor:pointer;font-size:10px;
  transition:all .15s;white-space:nowrap;
}
.quick-reply-btn:hover{border-color:var(--accent);background:rgba(91,110,234,.1);color:var(--accent)}

/* Input row */
#mentor-input-row{display:flex;gap:4px;padding:8px;border-top:1px solid var(--border)}
#mentor-input{flex:1}
#mentor-voice{position:relative;transition:color .15s}
#mentor-voice:hover{color:var(--accent)}

/* Proactive tip highlight */
.mentor-msg.proactive{border-left:3px solid #ffd600;background:rgba(255,214,0,.08)}
.mentor-msg.proactive .msg-time{color:#ffd600}

/* === MODAL === */
#modal-overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.7);display:flex;
  align-items:center;justify-content:center;z-index:100
}
.modal{
  background:var(--bg2);border:1px solid var(--border);border-radius:12px;
  padding:32px;text-align:center;max-width:400px
}
.modal h2{margin-bottom:12px;font-size:20px}
.modal p{margin-bottom:12px}
.modal .primary-btn{background:var(--accent);margin-top:8px}

/* === CHALLENGE SETUP MODAL === */
#challenge-overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.8);z-index:300;
  display:flex;align-items:center;justify-content:center;
  animation:fadeIn .2s ease;
}
#challenge-overlay.hidden{display:none!important}
.challenge-modal{
  background:var(--bg2);border:1px solid var(--border);border-radius:16px;
  padding:32px;text-align:center;max-width:480px;width:90%;
}
.challenge-modal h2{font-size:24px;margin-bottom:8px}
.challenge-modal p{color:var(--muted);margin-bottom:20px}
.cm-field{margin-bottom:16px;text-align:left}
.cm-field label{font-size:12px;color:var(--muted);margin-bottom:6px;display:block}
.cm-field select{width:100%}
.cm-duration-btns,.cm-diff-btns{display:flex;gap:6px}
.cm-dur,.cm-diff{
  flex:1;padding:8px;border:1px solid var(--border);background:var(--bg3);
  color:var(--muted);border-radius:6px;cursor:pointer;font-size:12px;transition:all .15s;
}
.cm-dur.active,.cm-diff.active{color:#fff;border-color:var(--accent);background:rgba(91,110,234,.2)}
.cm-dur:hover,.cm-diff:hover{border-color:var(--accent)}
.cm-diff-desc{font-size:11px;color:var(--muted);text-align:center;margin-top:8px;font-style:italic}
.cm-start{font-size:15px;padding:14px}
.cm-cancel{background:none;border:none;color:var(--muted);cursor:pointer;margin-top:10px;font-size:13px}
.cm-cancel:hover{color:var(--text)}

/* === GAME VIEW === */
#game-view{
  position:fixed;inset:0;z-index:250;background:var(--bg);
  display:flex;flex-direction:column;overflow:hidden;
  animation:fadeIn .3s ease;
}
#game-view.hidden{display:none!important}

/* Scorebar */
#game-scorebar{
  display:flex;align-items:center;justify-content:space-between;
  background:var(--bg2);border-bottom:1px solid var(--border);
  padding:8px 20px;height:64px;flex-shrink:0;
}
.gs-player{display:flex;flex-direction:column;align-items:center;min-width:160px}
.gs-left .gs-label{color:#4aa3ff;font-weight:700;font-size:13px}
.gs-right .gs-label{color:#ff6b35;font-weight:700;font-size:13px}
.gs-value{font-family:var(--mono);font-size:18px;font-weight:700;color:#fff}
.gs-trades{font-size:10px;color:var(--muted)}
.gs-center{display:flex;flex-direction:column;align-items:center;gap:2px}
.gs-asset{font-size:13px;color:var(--muted)}
.gs-price{font-family:var(--mono);font-size:20px;font-weight:700;color:#fff}
.gs-timer{
  font-family:var(--mono);font-size:24px;font-weight:700;
  padding:2px 16px;border-radius:8px;
  transition:color .3s,background .3s;
}
.gs-timer.timer-green{color:#00c853}
.gs-timer.timer-yellow{color:#ffd600;background:rgba(255,214,0,.1)}
.gs-timer.timer-red{color:#ff1744;background:rgba(255,23,68,.15);animation:timerPulse .5s infinite}
@keyframes timerPulse{0%,100%{opacity:1}50%{opacity:.6}}
.gs-winning{font-size:11px;font-weight:600}
.gs-winning.winning-player{color:#4aa3ff}
.gs-winning.winning-bot{color:#ff6b35}
.gs-winning.winning-tie{color:var(--muted)}

/* Split panels */
#game-panels{display:flex;flex:1;overflow:hidden}
.gp-panel{flex:1;display:flex;flex-direction:column;overflow-y:auto;min-width:0}
.gp-divider{width:3px;background:var(--border);flex-shrink:0}
.gp-header{padding:8px 12px;font-weight:700;font-size:13px;text-align:center;flex-shrink:0}
.gp-header-player{background:rgba(74,163,255,.1);color:#4aa3ff;border-bottom:2px solid #4aa3ff}
.gp-header-bot{background:rgba(255,107,53,.1);color:#ff6b35;border-bottom:2px solid #ff6b35}
.gp-chart{height:200px;flex-shrink:0;background:var(--bg)}
.gp-stats{
  display:flex;gap:8px;padding:8px 12px;background:var(--bg2);
  border-bottom:1px solid var(--border);flex-shrink:0;
}
.gp-stat{display:flex;flex-direction:column;flex:1;font-size:11px}
.gp-stat span:first-child{color:var(--muted);font-size:10px}

/* Player order area */
.gp-order-area{padding:10px 12px;background:var(--bg2);border-bottom:1px solid var(--border);flex-shrink:0}
.gp-side-toggle{display:flex;gap:4px;margin-bottom:6px}
.gp-side-btn{
  flex:1;padding:6px;border:none;border-radius:4px;font-weight:700;
  cursor:pointer;color:#fff;background:var(--bg3);font-size:12px;transition:.15s;
}
.gp-buy-active{background:var(--green)}.gp-sell-active{background:var(--red)}
.gp-order-types{display:flex;flex-wrap:wrap;gap:4px;margin-bottom:6px}
.gp-ot{
  flex:1;padding:4px;border:1px solid var(--border);background:none;
  color:var(--muted);border-radius:3px;cursor:pointer;font-size:11px;transition:all .15s;
}
.gp-ot.active{color:#fff;border-color:var(--accent);background:rgba(91,110,234,.15)}
.gp-limit-row,.gp-amount-row{margin-bottom:6px}
.gp-limit-row input,.gp-amount-row input{width:100%;padding:6px 8px;background:var(--bg);border:1px solid var(--border);color:var(--text);border-radius:4px;font-size:12px}
.gp-pct-btns{display:flex;gap:4px;margin-bottom:6px}
.gp-pct{
  flex:1;padding:3px;background:var(--bg3);border:1px solid var(--border);
  color:var(--muted);border-radius:3px;cursor:pointer;font-size:10px;transition:all .15s;
}
.gp-pct:hover{color:var(--text);border-color:var(--accent)}

/* Bot strategy */
.gp-bot-strategy{padding:8px 12px;background:rgba(255,107,53,.05);border-bottom:1px solid var(--border);flex-shrink:0}
.gp-strat-label{font-size:10px;color:#ff6b35;text-transform:uppercase;letter-spacing:1px}
.gp-strat-text{font-size:12px;color:var(--text);margin-top:4px}

/* Commentary + trade logs */
.gp-commentary,.gp-trades-log{padding:8px 12px;flex-shrink:0}
.gp-trades-title{font-size:11px;font-weight:700;color:var(--muted);margin-bottom:4px;text-transform:uppercase}
.gp-trades-list{max-height:120px;overflow-y:auto;font-size:11px}
.gp-trade-item{
  padding:4px 6px;margin-bottom:2px;border-radius:4px;background:var(--bg3);
  display:flex;justify-content:space-between;
}
.gp-trade-buy{border-left:2px solid var(--green)}
.gp-trade-sell{border-left:2px solid var(--red)}
.gp-comment-item{
  padding:4px 8px;margin-bottom:3px;border-radius:4px;
  background:rgba(255,107,53,.05);border-left:2px solid #ff6b35;
  font-size:11px;color:var(--text);
}

/* Exit button */
#game-close-btn{
  position:fixed;top:8px;right:12px;z-index:260;
  background:var(--red);color:#fff;border:none;padding:6px 14px;
  border-radius:8px;font-weight:700;cursor:pointer;font-size:12px;
  opacity:.8;transition:opacity .15s;
}
#game-close-btn:hover{opacity:1}

/* === MATCH END MODAL === */
#match-end-overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.85);z-index:400;
  display:flex;align-items:center;justify-content:center;
  animation:fadeIn .3s ease;
}
#match-end-overlay.hidden{display:none!important}
.match-end-modal{
  background:var(--bg2);border:1px solid var(--border);border-radius:16px;
  padding:32px;text-align:center;max-width:560px;width:90%;position:relative;overflow:hidden;
}
.match-end-modal h2{font-size:28px;margin-bottom:20px}
.match-end-scores{display:flex;align-items:center;justify-content:center;gap:20px;margin-bottom:20px}
.me-score{flex:1;padding:16px;border-radius:12px;background:var(--bg3)}
.me-player{border:2px solid #4aa3ff}
.me-bot{border:2px solid #ff6b35}
.me-label{font-size:14px;font-weight:700;margin-bottom:4px}
.me-val{font-family:var(--mono);font-size:22px;font-weight:700;color:#fff}
.me-pl{font-family:var(--mono);font-size:14px;margin-top:4px}
.me-vs{font-size:20px;font-weight:700;color:var(--muted)}
.match-end-stats{
  display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:20px;
  text-align:left;font-size:12px;
}
.me-stat{padding:8px;background:var(--bg3);border-radius:6px}
.me-stat-label{color:var(--muted);font-size:10px;text-transform:uppercase}
.me-stat-val{font-family:var(--mono);color:var(--text)}
.match-end-btns{display:flex;gap:10px}
.match-end-btns .primary-btn{flex:1}

/* Winner glow */
.winner-glow{animation:winnerGlow 1s ease-in-out 3}
@keyframes winnerGlow{0%,100%{box-shadow:0 0 10px rgba(0,200,83,.3)}50%{box-shadow:0 0 30px rgba(0,200,83,.6)}}
.loser-glow{animation:loserGlow 1s ease-in-out 3}
@keyframes loserGlow{0%,100%{box-shadow:0 0 10px rgba(255,23,68,.3)}50%{box-shadow:0 0 30px rgba(255,23,68,.6)}}

/* Confetti */
#match-end-confetti{position:absolute;inset:0;pointer-events:none;overflow:hidden}
.confetti-piece{
  position:absolute;width:8px;height:8px;top:-10px;
  animation:confettiFall 3s linear forwards;
}
@keyframes confettiFall{
  0%{transform:translateY(0) rotate(0deg);opacity:1}
  100%{transform:translateY(600px) rotate(720deg);opacity:0}
}

/* === RESPONSIVE: stack panels on mobile === */
@media(max-width:768px){
  #game-panels{flex-direction:column}
  .gp-divider{width:100%;height:3px}
  .gp-chart{height:150px}
  #game-scorebar{flex-wrap:wrap;height:auto;padding:8px 12px;gap:4px}
  .gs-player{min-width:100px}
  .gs-value{font-size:14px}
  .gs-timer{font-size:18px}
  .match-end-scores{flex-direction:column;gap:10px}
  .match-end-stats{grid-template-columns:1fr}
}

/* === TOKEN ECONOMY === */

/* INCENTIVES Balance in top bar */
.incentives-bal{
  display:flex;align-items:center;gap:4px;background:var(--bg3);
  padding:4px 10px;border-radius:8px;cursor:pointer;border:1px solid var(--border);
  transition:all .2s;user-select:none;
}
.incentives-bal:hover{border-color:#ffd700;box-shadow:0 0 8px rgba(255,215,0,.2)}
.incv-icon{font-size:14px}
#incv-amount{font-size:14px;font-weight:700;color:#ffd700}
.incv-label{font-size:9px;color:var(--muted);text-transform:uppercase;letter-spacing:1px}

/* Balance animation */
@keyframes balPulseGreen{0%,100%{transform:scale(1)}50%{transform:scale(1.15);color:#00ff41}}
@keyframes balPulseRed{0%,100%{transform:scale(1)}50%{transform:scale(1.15);color:#ff1744}}
.bal-earned{animation:balPulseGreen .4s ease}
.bal-spent{animation:balPulseRed .4s ease}

/* Top bar icon buttons */
.top-icon-btn{
  background:none;border:1px solid var(--border);color:var(--text);
  width:36px;height:36px;border-radius:8px;cursor:pointer;font-size:16px;
  display:flex;align-items:center;justify-content:center;transition:all .2s;
}
.top-icon-btn:hover{background:var(--bg3);border-color:var(--accent)}

/* Wallet */
#wallet-area{position:relative}
#connect-wallet-btn{
  background:#9945FF;color:#fff;border:none;padding:6px 14px;border-radius:8px;
  font-weight:700;font-size:12px;cursor:pointer;transition:filter .15s;
}
#connect-wallet-btn:hover{filter:brightness(1.2)}
#wallet-connected{
  display:flex;align-items:center;gap:4px;background:#9945FF;color:#fff;
  padding:4px 10px;border-radius:8px;cursor:pointer;font-size:11px;font-weight:600;
}
#wallet-dropdown{
  position:absolute;top:42px;right:0;background:var(--bg2);border:1px solid var(--border);
  border-radius:8px;min-width:240px;z-index:50;box-shadow:0 8px 24px rgba(0,0,0,.5);
  overflow:hidden;
}
.wd-row{padding:10px 14px;border-bottom:1px solid var(--border);font-size:12px;display:flex;justify-content:space-between}
.wd-label{color:var(--muted)}
.wd-link{cursor:pointer;color:var(--accent);justify-content:flex-start;gap:6px}
.wd-link:hover{background:var(--bg3)}
.wd-disconnect{color:var(--red)}

/* Achievement Popup */
#achievement-popup-container{
  position:fixed;top:60px;right:16px;z-index:500;display:flex;flex-direction:column;gap:8px;
  pointer-events:none;
}
.achievement-popup{
  background:linear-gradient(135deg,#1a1f2e,#2a2f4e);border:1px solid #ffd700;
  border-radius:12px;padding:12px 16px;display:flex;align-items:center;gap:10px;
  box-shadow:0 4px 20px rgba(255,215,0,.3);pointer-events:auto;
  animation:achSlideIn .4s ease forwards;min-width:280px;
}
.achievement-popup.dismissing{animation:achSlideOut .3s ease forwards}
@keyframes achSlideIn{from{transform:translateX(120%);opacity:0}to{transform:translateX(0);opacity:1}}
@keyframes achSlideOut{from{transform:translateX(0);opacity:1}to{transform:translateX(120%);opacity:0}}
.ach-popup-icon{font-size:28px}
.ach-popup-info{flex:1}
.ach-popup-title{font-size:12px;font-weight:700;color:#ffd700}
.ach-popup-desc{font-size:11px;color:var(--text)}
.ach-popup-reward{font-size:13px;font-weight:700;color:#00c853;margin-top:2px}

/* Achievements Panel */
#achievements-overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.7);z-index:300;
  display:flex;align-items:center;justify-content:center;
}
#achievements-overlay.hidden{display:none!important}
#achievements-panel{
  background:var(--bg2);border:1px solid var(--border);border-radius:16px;
  width:90%;max-width:640px;max-height:80vh;overflow-y:auto;
}
.ap-header{
  display:flex;align-items:center;justify-content:space-between;gap:12px;
  padding:16px 20px;border-bottom:1px solid var(--border);position:sticky;top:0;
  background:var(--bg2);z-index:1;
}
.ap-header h2{font-size:18px;flex:1}
.ap-total{font-size:13px;color:#ffd700;white-space:nowrap}
#achievements-grid{
  display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px;padding:16px;
}
.ach-card{
  background:var(--bg3);border:1px solid var(--border);border-radius:10px;padding:12px;
  text-align:center;transition:all .2s;position:relative;overflow:hidden;
}
.ach-card.unlocked{border-color:#ffd700;box-shadow:0 0 10px rgba(255,215,0,.15)}
.ach-card.locked{opacity:.45;filter:grayscale(.8)}
.ach-card-icon{font-size:28px;margin-bottom:4px}
.ach-card-name{font-size:12px;font-weight:700;color:var(--text);margin-bottom:2px}
.ach-card-desc{font-size:10px;color:var(--muted);margin-bottom:6px}
.ach-card-reward{font-size:12px;font-weight:700;color:#ffd700}
.ach-progress{
  height:4px;background:var(--bg);border-radius:2px;overflow:hidden;margin-top:6px;
}
.ach-progress-fill{height:100%;background:linear-gradient(90deg,#ffd700,#ffaa00);border-radius:2px;transition:width .3s}
.ach-progress-text{font-size:9px;color:var(--muted);margin-top:2px}

/* Shop */
#shop-overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.7);z-index:300;
  display:flex;align-items:center;justify-content:center;
}
#shop-overlay.hidden{display:none!important}
#shop-panel{
  background:var(--bg2);border:1px solid var(--border);border-radius:16px;
  width:90%;max-width:520px;max-height:80vh;overflow-y:auto;
}
#shop-items{padding:12px 16px;display:flex;flex-direction:column;gap:8px}
.shop-item{
  display:flex;align-items:center;gap:12px;background:var(--bg3);border:1px solid var(--border);
  border-radius:10px;padding:12px;transition:all .2s;
}
.shop-item.owned{border-color:var(--green);opacity:.7}
.shop-item-icon{font-size:24px;flex-shrink:0}
.shop-item-info{flex:1}
.shop-item-name{font-size:13px;font-weight:700;color:var(--text)}
.shop-item-desc{font-size:10px;color:var(--muted)}
.shop-item-btn{
  background:#ffd700;color:#000;border:none;padding:6px 12px;border-radius:6px;
  font-weight:700;font-size:11px;cursor:pointer;white-space:nowrap;transition:filter .15s;
}
.shop-item-btn:hover{filter:brightness(1.1)}
.shop-item-btn:disabled{background:var(--muted);color:var(--bg);cursor:not-allowed}
.shop-item-btn.owned-btn{background:var(--green);cursor:default}

/* Transaction History */
#txn-overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.7);z-index:300;
  display:flex;align-items:center;justify-content:center;
}
#txn-overlay.hidden{display:none!important}
#txn-panel{
  background:var(--bg2);border:1px solid var(--border);border-radius:16px;
  width:90%;max-width:560px;max-height:80vh;overflow-y:auto;
}
#txn-filters{display:flex;gap:4px;padding:8px 16px;border-bottom:1px solid var(--border)}
.txn-filter{
  padding:4px 12px;border:1px solid var(--border);background:none;color:var(--muted);
  border-radius:14px;cursor:pointer;font-size:11px;transition:all .15s;
}
.txn-filter.active{color:#fff;border-color:var(--accent);background:rgba(91,110,234,.2)}
#txn-list{padding:8px 16px;max-height:60vh;overflow-y:auto}
.txn-row{
  display:flex;align-items:center;gap:10px;padding:8px 0;border-bottom:1px solid var(--border);
  font-size:12px;
}
.txn-type{font-weight:700;width:60px;text-align:center;padding:2px 6px;border-radius:4px;font-size:10px}
.txn-type.earned{background:rgba(0,200,83,.15);color:var(--green)}
.txn-type.spent{background:rgba(255,23,68,.15);color:var(--red)}
.txn-desc{flex:1;color:var(--text)}
.txn-amount{font-family:var(--mono);font-weight:700}
.txn-amount.pos{color:var(--green)}
.txn-amount.neg{color:var(--red)}
.txn-bal{font-family:var(--mono);font-size:11px;color:var(--muted);width:70px;text-align:right}
.txn-date{font-size:10px;color:var(--muted);width:80px}

/* Match end rewards breakdown */
.me-rewards{
  margin:12px 0;padding:12px;background:rgba(255,215,0,.08);border:1px solid rgba(255,215,0,.3);
  border-radius:10px;text-align:center;
}
.me-rewards-title{font-size:12px;color:#ffd700;font-weight:700;margin-bottom:6px}
.me-rewards-line{font-size:13px;color:var(--text)}
.me-rewards-total{font-size:18px;font-weight:700;color:#00c853;margin-top:4px}

/* Welcome banner */
.welcome-banner{
  position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:600;
  background:linear-gradient(135deg,#1a1f2e,#2a2f4e);border:2px solid #ffd700;
  border-radius:16px;padding:32px 40px;text-align:center;
  box-shadow:0 8px 40px rgba(255,215,0,.3);animation:fadeIn .4s ease;
}
.welcome-banner h2{font-size:22px;color:#ffd700;margin-bottom:8px}
.welcome-banner p{font-size:14px;color:var(--text);margin-bottom:4px}
.welcome-banner .wb-amount{font-size:28px;font-weight:700;color:#00c853;margin:8px 0}
.welcome-banner button{
  background:#ffd700;color:#000;border:none;padding:10px 24px;border-radius:8px;
  font-weight:700;font-size:14px;cursor:pointer;margin-top:12px;
}

/* Competition entry fee insufficient */
.insufficient-msg{
  color:var(--red);font-size:11px;font-weight:700;text-align:center;
  padding:6px;animation:fadeIn .3s;
}

/* === HELP CENTER === */
.help-modal{background:var(--bg2);border:1px solid var(--border);border-radius:12px;width:90%;max-width:700px;max-height:85vh;display:flex;flex-direction:column;overflow:hidden}
.help-header{display:flex;align-items:center;gap:12px;padding:16px 20px;border-bottom:1px solid var(--border)}
.help-header h2{flex-shrink:0;font-size:16px}
#help-search{flex:1;background:var(--bg);border:1px solid var(--border);color:var(--text);padding:6px 10px;border-radius:6px;font-size:13px}
.help-content{overflow-y:auto;padding:20px}
.help-section{margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid var(--border)}
.help-section:last-child{border-bottom:none}
.help-section h3{font-size:15px;margin-bottom:10px;color:#fff}
.help-section p{color:var(--muted);line-height:1.6;margin-bottom:8px}
.help-section ul,.help-section ol{color:var(--text);line-height:1.8;padding-left:20px}
.help-section li{margin-bottom:4px}
.help-table{width:100%;border-collapse:collapse;margin:8px 0}
.help-table th,.help-table td{padding:6px 10px;border:1px solid var(--border);text-align:left;font-size:12px}
.help-table th{background:var(--bg3);color:var(--muted)}
.help-table kbd{background:var(--bg3);border:1px solid var(--border);border-radius:3px;padding:2px 6px;font-family:var(--mono);font-size:11px}
.faq-list dt{font-weight:700;color:#fff;margin-top:12px}
.faq-list dd{color:var(--muted);margin-left:0;margin-bottom:8px;line-height:1.6}
.help-section.hidden-section{display:none}

/* === SCROLLBAR === */
::-webkit-scrollbar{width:6px}
::-webkit-scrollbar-track{background:var(--bg)}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}

/* === SHARE MODAL === */
.share-modal{background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:24px;max-width:440px;width:90%;margin:auto;position:relative;animation:modalIn .2s ease}
.share-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
.share-header h2{font-size:18px;color:var(--text)}
.share-preview{background:var(--bg3);border:1px solid var(--border);border-radius:8px;padding:12px;margin-bottom:16px;font-size:13px;color:var(--muted);line-height:1.5;word-break:break-word}
.share-buttons{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:16px}
.share-platform-btn{display:flex;align-items:center;gap:8px;padding:10px 14px;border:none;border-radius:8px;cursor:pointer;font-size:14px;font-weight:600;transition:opacity .15s,transform .1s}
.share-platform-btn:hover{opacity:.9;transform:scale(1.02)}
.share-platform-btn:active{transform:scale(.98)}
.share-icon{font-size:18px;width:24px;text-align:center;font-weight:700}
.share-twitter{background:#1DA1F2;color:#fff}
.share-facebook{background:#1877F2;color:#fff}
.share-telegram{background:#0088cc;color:#fff}
.share-discord{background:#5865F2;color:#fff}
.share-snapchat{background:#FFFC00;color:#333}
.share-github{background:#333;color:#fff}
.theme-light .share-github{background:#24292e;color:#fff}
.share-copy-row{display:flex;gap:8px}
.share-copy-row input{flex:1;background:var(--bg3);border:1px solid var(--border);border-radius:6px;padding:8px 10px;color:var(--text);font-size:12px;outline:none}
.share-copy-btn{background:var(--accent);color:#fff;border:none;border-radius:6px;padding:8px 14px;cursor:pointer;font-size:13px;font-weight:600;white-space:nowrap}
.share-copy-btn:hover{opacity:.9}
.share-toast{text-align:center;padding:8px;font-size:13px;color:var(--green);margin-top:8px}
.match-end-share{display:flex;gap:8px;justify-content:center;margin-bottom:12px}
.share-match-btn{background:#1DA1F2!important;font-size:13px!important;padding:8px 16px!important}
.challenge-friend-btn{background:#ff6d00!important;font-size:13px!important;padding:8px 16px!important}
.ach-popup-share{position:absolute;right:10px;top:50%;transform:translateY(-50%);background:none;border:none;font-size:18px;cursor:pointer;opacity:.7;transition:opacity .15s}
.ach-popup-share:hover{opacity:1}
.achievement-popup{position:relative}

/* === GAME PANEL TABS === */
.gp-tabs{display:flex;gap:0;border-bottom:1px solid var(--border);flex-shrink:0;background:var(--bg2)}
.gp-tab{
  flex:1;padding:8px 4px;border:none;background:none;color:var(--muted);
  cursor:pointer;font-size:11px;font-weight:600;border-bottom:2px solid transparent;
  transition:all .2s;white-space:nowrap;
}
.gp-tab:hover{color:var(--text);background:var(--bg3)}
.gp-tab.active{color:#4aa3ff;border-bottom-color:#4aa3ff;background:rgba(74,163,255,.05)}
.gp-tab-content{flex:1;overflow-y:auto;animation:tabFadeIn .2s ease}
.gp-tab-content.hidden{display:none!important}
@keyframes tabFadeIn{from{opacity:0;transform:translateY(4px)}to{opacity:1;transform:translateY(0)}}

/* === PLAYER BOT CARDS === */
.gp-player-bots{padding:8px;display:flex;flex-direction:column;gap:8px}
.gp-bot-card{
  background:var(--bg3);border:1px solid var(--border);border-radius:10px;
  padding:10px 12px;transition:all .2s;
  backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);
}
.gp-bot-card.bot-active{border-color:var(--green);box-shadow:0 0 12px rgba(0,200,83,.15)}
.gp-bot-card-header{display:flex;align-items:center;gap:6px;margin-bottom:4px}
.gp-bot-card-icon{font-size:16px}
.gp-bot-card-name{font-size:12px;font-weight:700;color:var(--text);flex:1}
.gp-bot-card-desc{font-size:10px;color:var(--muted);margin-bottom:6px}
.gp-bot-card-inputs{display:flex;gap:6px;margin-bottom:6px}
.gp-bot-input-row{flex:1;display:flex;flex-direction:column;gap:2px}
.gp-bot-input-row label{font-size:9px;color:var(--muted)}
.gp-bot-input-row input{
  padding:4px 6px;font-size:11px;background:var(--bg);border:1px solid var(--border);
  color:var(--text);border-radius:4px;width:100%;
}
.gp-bot-card-status{
  font-size:10px;font-weight:600;padding:3px 8px;border-radius:10px;
  background:var(--bg);text-align:center;color:var(--muted);
}
.gp-bot-card-status.status-trading{color:var(--green);background:rgba(0,200,83,.1)}

/* Bot Toggle Switch */
.gp-bot-toggle{position:relative;width:36px;height:20px;flex-shrink:0}
.gp-bot-toggle input{opacity:0;width:0;height:0}
.gp-bot-toggle-slider{
  position:absolute;inset:0;background:var(--bg);border:1px solid var(--border);
  border-radius:10px;cursor:pointer;transition:all .2s;
}
.gp-bot-toggle-slider::before{
  content:'';position:absolute;width:14px;height:14px;border-radius:50%;
  background:#fff;top:2px;left:2px;transition:transform .2s;box-shadow:0 1px 3px rgba(0,0,0,.3);
}
.gp-bot-toggle input:checked+.gp-bot-toggle-slider{background:var(--green);border-color:var(--green)}
.gp-bot-toggle input:checked+.gp-bot-toggle-slider::before{transform:translateX(16px)}

/* === PORTFOLIO TAB === */
.gp-portfolio{padding:8px 12px}
.gp-portfolio-summary{display:flex;flex-direction:column;gap:4px;margin-bottom:10px}
.gp-port-row{display:flex;justify-content:space-between;font-size:11px;padding:3px 0;border-bottom:1px solid var(--border)}
.gp-port-total{font-weight:700;font-size:12px;border-bottom:2px solid var(--accent)}

/* === BOT STRATEGY ANIMATED CARD === */
.gp-bot-strategy{
  padding:10px 12px;background:rgba(255,107,53,.05);border-bottom:1px solid var(--border);
  flex-shrink:0;position:relative;overflow:hidden;
}
.gp-strat-indicator{display:flex;align-items:center;gap:6px}
.gp-strat-pulse{
  width:8px;height:8px;border-radius:50%;background:#ff6b35;
  animation:stratPulse 1.5s ease-in-out infinite;flex-shrink:0;
}
@keyframes stratPulse{0%,100%{opacity:1;box-shadow:0 0 4px #ff6b35}50%{opacity:.4;box-shadow:0 0 12px #ff6b35}}
@keyframes stratFlash{0%{background:rgba(255,107,53,.15)}100%{background:rgba(255,107,53,.05)}}
.gp-strat-detail{font-size:10px;color:var(--muted);margin-top:4px;font-style:italic}

/* === NOVA GAME CHAT === */
#nova-game-chat{
  flex-shrink:0;border-top:1px solid var(--border);background:var(--bg2);
  display:flex;flex-direction:column;max-height:220px;
  backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);
}
#nova-game-header{
  display:flex;justify-content:space-between;align-items:center;
  padding:6px 16px;cursor:pointer;font-weight:700;font-size:12px;
  background:linear-gradient(135deg,rgba(91,110,234,.1),rgba(139,92,246,.1));
  border-bottom:1px solid var(--border);flex-shrink:0;
}
.nova-game-header-left{display:flex;align-items:center;gap:6px}
#nova-game-body{display:flex;flex-direction:column;flex:1;overflow:hidden}
#nova-game-body.hidden{display:none!important}
#nova-game-messages{
  flex:1;overflow-y:auto;padding:6px 12px;scroll-behavior:smooth;
  max-height:100px;font-size:11px;
}
.nova-game-msg{
  padding:6px 10px;border-radius:10px;margin-bottom:4px;max-width:85%;line-height:1.4;
}
.nova-game-msg.bot{background:var(--bg3);color:var(--text);border-bottom-left-radius:3px}
.nova-game-msg.user{background:var(--accent);color:#fff;margin-left:auto;border-bottom-right-radius:3px}
#nova-game-quick{
  display:flex;flex-wrap:wrap;gap:4px;padding:4px 12px;border-top:1px solid var(--border);flex-shrink:0;
}
.nova-game-qr{
  padding:3px 8px;border:1px solid var(--border);background:var(--bg3);
  color:var(--text);border-radius:12px;cursor:pointer;font-size:9px;
  transition:all .15s;white-space:nowrap;
}
.nova-game-qr:hover{border-color:var(--accent);color:var(--accent);background:rgba(91,110,234,.1)}
#nova-game-input-row{display:flex;gap:4px;padding:6px 12px;border-top:1px solid var(--border);flex-shrink:0}
#nova-game-input{flex:1;padding:5px 8px;font-size:11px;background:var(--bg);border:1px solid var(--border);color:var(--text);border-radius:4px}
